<!DOCTYPE html>
<html>
<head>
	<title>Comp 20: Assignment #4</title>
	<meta charset="utf-8">

</head>
<body>
	<h1 class = "heading" > Comp20: Assignment #4</h1>
	<h2 class = "heading"> Spring 2018</h2>
	<h3> <span class = "heading"> Assignment Written by: </span> Janith Kulatunge <br>
		<span class ="heading"> App Developed by: </span> Noah Hill </h3>

	<h4> Introduction</h4> 
	<p> </p>

	<h4> Methodology</h4> 
	<p> </p>

	<h4> Abstract of Findings</h4> 
	<p> </p>

	<h4> Issues found</h4> 
		<p> 
			<div class ="issue"> 
				<ul>
					<li> Issue: </li>
					<li> Location: </li>
					<li> Severity: </li>
					<li> Description: </li>
					<li> Proof: </li>
					<li> Resolution: </li>
				</ul>
			</div>

			<div class ="issue"> 
				<ul>
					<li> Issue: Cross Site Scripting</li>
					<li> Location: POST /rides API</li>
					<li> Severity: High. XSS vulnerabilities are often preyed upon by attackers. They allow often attackers manipulate client side Javascript, by submitting strings of code within POST requests. </li>
					<li> Description: Javascript commands (sent to rides API as data) are accepted by the server and inserted into database in the exact format and syntax that they were received in </li>
					<li> Proof: <br> 
						<p> Following screenshots show Javascript being sent to server, as "username," using curl in the Terminal. Server accepts string and inserts into database. Second screenshot, of mLab window, shows document containing Javascript in database collection <br> </p>
						<img src = "/XSSerror.png" alt = "screenshot showing no error being returned by site when Javascript sent"/>
						<img src = "/XSSinDB.png" alt = "screenshot of collection, from mLab, showing Javascript in database" /> </li>
					<li> Resolution: Insert following line of code between lines 57 and 58 of index.js to sanitize input and remove special characters from username sent by client <br> 
						<code> username = username.replace(/[^\w\s]/gi, ''); </code> <br> </li> 
				</ul>
			</div>

			<div class ="issue"> 
				<ul>
					<li> Issue: </li>
					<li> Location: </li>
					<li> Severity: </li>
					<li> Description: </li>
					<li> Proof: </li>
					<li> Resolution: </li>
				</ul>
			</div>

	</p>


	<h4> Conclusion</h4> 
	<p> </p>

	<h4> References</h4> 
	<p> </p>


</body>
</html>